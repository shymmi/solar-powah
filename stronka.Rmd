---
title: "Optymalizacja elektrowni s³onecznej"
author: "Szymon Kasperski"
date: "`r format(Sys.Date(), "%B %d, %Y")`"
output: 
  html_document: 
    toc: true
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE, cache=TRUE}
knitr::opts_chunk$set(echo = TRUE)
#kod wyliczaj¹cy wykorzystane biblioteki
devtools::install_github("rstudio/EDAWR")
devtools::install_github("rstudio/dplyr")
devtools::install_github("rstudio/ggplot2")
#wiecej bibliotek
```

```{r libraries, echo=FALSE, warning=FALSE, message=FALSE, include=FALSE}
set.seed(23) #kod zapewniaj¹cy powtarzalnoœæ wyników
library(EDAWR)
library(ggplot2)
library(dplyr)
#wiecej bibliotek
```

```{r import, cache=FALSE, include=FALSE}
solar_data <- read.csv("elektrownie.csv", row.names=1)
solar_data$data <- as.Date(solar_data$data, "%m/%d/%Y %k:%M")
```

## Krótkie podsumowanie - elevator speach
```{r echo=FALSE}
#podsumowanie obserwacji - tekst dla "Obamy"
```

## Rozmiar zbioru i podstawowe statystyki.

Dane zawieraj¹ '`r nrow(solar_data)`' obserwacji po '`r length(solar_data)`' atrybutów ka¿da. Poni¿ej znajduje siê podsumowanie wartoœci dla ka¿dego atrybutu.

### Dane czujnika
```{r}
lapply(solar_data[, c('idsito', 'idmodel', 'idbrand', 'ageinmonths')], summary)
```
Pierwsze 3 zawieraj¹ informacje o identyfikatorze, modelu i marce czujnika.
W tym zbiorze mo¿na wyró¿niæ '`r length(table(solar_data$idsito))`' czujnikóW, o `r length(table(solar_data$idmodel))` ró¿nych modelach, wyprodukowanych przez `r length(table(solar_data$idbrand))` ró¿nych producentów. Wszystkie wartoœci tych atrybutów zosta³y znormalizowane i zawieraj¹ siê w przedziale <0:1>. Czwarty atrybut (tak samo znormalizowany) opisuje wiek danego czujnika

### Czas
```{r}
lapply(solar_data[, c('anno', 'day', 'ora', 'data')], summary)
```
Powy¿sze atrybuty opisuj¹ czas dokonania pomiaru. Anno okreœla rok dokonania pomiaru i przyjmuje dwie wartoœci; 2012 i 2013. Day, jak sama nazwa wskazuje, okreœla dzieñ dokonania pomiaru. Przyjmuje `r length(table(solar_data$day))` ró¿nych wartoœci, co sugeruje, ¿e odzwierciedla kalendarzowy dzieñ dla danego roku. Atrybut ora przyjmuje `r length(table(solar_data$ora))` ró¿nych wartoœci, co sugeruje, ¿e pomiary by³y dokonywane w 19 ró¿nych godzinach dla ró¿nych dób. Po przyrzeniu siê wartoœciom atrybutu _data_ mo¿na zauwa¿yæ, ¿e pomiary dla ka¿dego dnia by³y przeprowadzane w godzinach 2:00 - 20:00, co godzinê. Ostatni atrybut zawiera informacje zawarte w trzech poprzednich; rok, dzieñ, godzinê dokonania pomiaru w bardziej przystêpnej postaci - jako (nieznormalizowany) ci¹g znaków.

### Po³o¿enie
```{r}
lapply(solar_data[, c('lat', 'lon', 'altitude', 'azimuth')], summary)
```
Powy¿sze atrybuty opisuj¹ fizyczne po³o¿enie czujników. Wartoœci atrybutu lat opisuj¹ szerokoœæ geograficzn¹, a lon d³ugoœæ. Zakres wartoœci atrybutu lat to <`r min(solar_data[, 'lat'])`:`r max(solar_data[, 'lat'])`>, co sugeruje, ¿e czujniki po³o¿one by³y na podobnej szerokoœci geograficznej. Azimuth to azymut, czyli  k¹t zawarty miêdzy pó³nocn¹ czêœci¹ po³udnika odniesienia a danym kierunkiem poziomym. Dwa ostatnie atrybuty pozwalaj¹ okreœliæ pozycjê s³oñca wzglêdem czujnika.

### Warunki atmosferyczne
```{r}
lapply(solar_data[, c('temperatura_ambiente', 'irradiamento', 'pressure', 'windspeed', 'humidity', 'dewpoint', 'windbearing', 'cloudcover', 'irr_pvgis_mod', 'icon')], summary)
```
Powy¿sze atrybuty opisuj¹ aktualn¹ pogodê "mierzon¹" podczas zapisu danych przez czujnik. Opisuj¹ odpowiednio: temperaturê powietrza, stopieñ nas³onecznienia, ciœnienie atmosferyczne, prêdkoœæ wiatru, wilgotnoœæ, temperaturê punktu rosy, zachmurzenie i ponownie stopieñ nas³onecznienia, tym razem generowany przez pogodowe API (Photovoltaic Geographical Information System). Ostatnia zmienna (icon) przyjmuje tylko 7 ró¿nych wartoœci, co sugeruje, ¿e mo¿e reprezentowaæ "obecny stan pogody" (ikonê), obliczany przez czujnik lub, co jest bardziej prawdopodobne, dostarczany przez pogodowe API. Zdroworozs¹dkowo nas³onecznienie powinno pe³niæ kluczow¹ rolê przy generowaniu energii przez panele s³oneczne, zatem podwojenie obserwacji w tym przypadku zdaje siê byæ ca³kowicie uzasadnione; umo¿liwa to wyeliminowanie potencjalnych b³êdnych pomiarów.



